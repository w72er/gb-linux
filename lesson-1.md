# Установка операционной системы и знакомство с ней

* а нужны ли гостевые ос для десктопа?
* разбивка диска подробнее
* ctrl+alt+x - не работает



Виктор Щипаченко
Oracle, 
на aws сервера на линукс
Работа удаленно на зарубежные компании.

файл примеров команд. Практическое задание.

## Инструменты

* VirtualBox
* виртуальная машина
* для подключения к виртуальной машины клиент SSH

## Выбор дистрибутива

Ядро linux - одно, есть различные варианты сборки, с разными вариантами программ.

* debian
  * ubuntu
  * linux mint
* red hat
  * centOs
  * Oracle linux
* suse
  * openSUSE
* Slackware

При должной сноровке можно из Ubuntu получить CentOS, т.к. ядро у них одно - linux, т.е. поменять набор сервисов и утилит.

Ubuntu - довольно зрелый дистрибутив и в нем уже все предустановлено. Если вы будете использовать другой дистрибутив, то это предполагает, что вы сможете дополнительно доработать некоторые команды, что будут отличаться от ubuntu.
* long term support - протестированные с долгой поддержкой.

Ubuntu:
* ubuntu server (нет графики) / Ubuntu Desktop
  * LTS
  * не LTS
    
В этом уроке все команды выполняются как для desktop версии, так и server.

Готов дать консультацию или дополнительное задание.

Если хотите, то можете использовать linux в облаке.

## Инсталлятор операционной системы

* язык
* локализация
* временная зона
* сеть и имя
* разбивка жесткого диска (про LVM смотри в методичке)
* создание пользователя
* завершение установки
  * сервер ssh

гостевые дополнения ставятся, если убунту запущена на локальной машине и дает дополнительные фишки, общие папки, двунаправленный буфер обмена, масштабирование окна.

* `sudo` - утилита, для получения пользователю прав суперпользователя root.
* `ip` - смотрим что просходит с интерфейсам и настройкой сети
* `nmcli` и netplan  - для настройки, но мы будем все делать в автоматическом режиме
* `apt` - утилита для управления ПО в Debian*

https://www.virtualbox.org/wiki/Downloads
https://releases.ubuntu.com/20.04/


Если у вас система 64, а версия ОС не Ubuntu64, a ubuntu32, то нужно в биосе включить опцию виртуализации. Virtual или V...
Оперативная минимум 2 нормально 4 ГБ.
Виртуальный жесткий диск - файл, поэтому создать новый вирт диска. Если вы предполагаете делать то что на нашем уроке, то вам хватит 10гб, если будите экспериментировать то 15.
Тип сетевого подключения с NAT на сетевой мост.

остановился на 41 минуте

1. выбор языка, сейчас локализация в ubuntu выполнена довольно качественно, поэтому можете выбрать русский язык.
2. обычная установка - если хотите пользоваться как основной, но нам для курса будет достаточно минимальной 
3. тип установки, для новичков достаточно разбить диск по умолчанию
4. выбираем временную зону.
5. вводим свое имя, имя компьютера, имя пользователя - имя под которым вы будете входить в систему. Есть поле входить в систему автоматически для реальный систем так не делать, в нашем же случает мы можем так сделать.
лектор остановил виртуальную машину, что бы к ней вернуться позже, сэкономив наше время.
6. подключить сетевые учетные записи: можно ничего не до настраивать.

В этом курсе мы будем работать только в терминале, поэтому не важно пользуетесь ли вы:
* в программах
* ctrl+alt+x - не работает

`sudo apt update` # sudo - выполняем с правами суперадмина, управление ПО в убунте, далее для apt выполняем обновление источников откуда брать ПО. Обновляются ссылки - сетевые ресурсы откуда обновляются программы.
Без sudo возникают из ошибки, т.к. эти файлы не доступны обычному пользователю.

`sudo apt upgrade` - обновить ПО

Линукс сейчас это лидер для серверов, для обработки данных, 80% серверов на линукс. Поэтому 
## Разметка диска

The following partitions are going to be formatted:
partition #1 of SCSI3 (0,0,0) (sda) as
partition #5 of SCSI3 (0,0,0) (sda) as ext4

## Настройка сети
## Обновление ОС. Установка дополнений гостевой ОС.
Для установки гостевых дополнений требуется установить пакеты (зависимости) без которых дополнения не установятся 
`sudo apt install gcc make perl`

clear или ctrl+l - очистка терминала

Вся мощь линукса выражается в командах, которые мы можем выполнять.
Сконцентрируйтесь на этом курсе, и если поймете 
В линукс серверные службы работают быстрее, т.к. они оптимизированы и можно всегда убрать не нужные сервисы, тем самым эти ресурсы передать желаемому / желаемым сервисам.

Гостевые дополнения имеет смысл если вы ставите ubuntu на гостевую машину, и дополнения предоставляют дополнительный функционал:
* копировать большие тексты, конфигурации между машинами.
* ресайзить экран
* настроить общие папки
* графический интерфейс работает быстрее

Устройства -> подключить диск, подтверждаем запустить, вводим пароль, смотрим ошибки, если они возникли, то нужно установить зависимости для гостевых дополнений рассмотренных ранее.
Virtual Guest Additions: Running kernel modules will not be replaced until the system is restarted.
Press Return to close this window # <- говорит об успешности операции

В линукс мы можем переключаться между терминалами возможно, но это делает 

Через терминал мы можем установить дополнения, мы можем зайти в примонтированную папку и в ручную установить.
Что бы гостевые дополнения заработали необходимо перезагрузиться.

Список дополнительных фич доступен в пункте меню устройства запущенной виртуальной машины.
## Установка OpenSSH Server и файлового менеджера mc

Служба, демон - постоянно находятся в памяти системы и обслуживают постоянно запросы, или что-то делают. 

`sudo apt install openssh-server`

Обычно система находится в облаке, и общепринятый способ подключения к системе принято подключение по протоколу ssh.
Чтобы убедиться, что все работает выполним команду:
`sudo systemctl status ssh`

Автор не рекомендует файловый менеджер, так как задача на курсе научиться использовать команды. Но все же установим:
`sudo apt install mc`

## Практическое занятие

Повторить все шаги по видео вебинара и получить к следующему уроку готовое окружение.
Сдаем в виде отчетов скриншотов.

Чек-лист:
Инсталлятор операционной системы.
Разметка диска. +
Настройка сети. +
Обновление ОС. + Установка дополнений гостевой ОС. +
Установка OpenSSH Server+ и файлового менеджера mc+.


Установка CentOS. Сравнить различия при установке.

Прежде чем установить систему, пришлось понять что устанавливать, поскольку сравнивать ubuntu 20 года с centos 2009 не очень то разумно. И здесь стоило понять цепочку изменений fedore->centos stream->redhat.
У CentOS другая философия установки, они предпочитают один раз сконфигурировать что будем настраивать и уже затем не тревожить пользователя.
У CentOS огромный установщик 9 гб и у ubuntu 2.
CentOS явно задают root password и опционально не суперпользователя user password
Количество пакетов при минимальной установке 375 из 1375, однако, нужно понимать что входит в минимальную установку, а туда входит лишь сервер, то есть нет графики.
Вылазили не раз ошибки, по сравнению с установкой ubuntu на vbox.
сеть по умолчанию выключена

Провести сравнение дистрибутивов.
Различаются пакетные менеджеры: ubuntu apt и centos yum, команды установки одинаковые, но вот обновлять список ссылок, вроде не надо.
В redhat покупаешь подписку и если у тебя возникает kernel-panic, то поддержка может дать тебя патч ядра, а в debian необходимо найти энтузиаста из сообщества, кто решит эту проблему. Но это не точно, так как услышал это из видео.
При установке guest additions в centos потребовалось многие пакеты устанавливать вручную, при этом сеть еще и не подключалась по умолчанию. Ряд проблем из-за минимальной установки системы, на что не грешим, а вот сетевой адаптер другое дело.
Почему-то автодополнение устанавливаемых пакетов не работало в centos.

Для меня сложилось ощущение что ubuntu более привлекательна для новичков, в то время как centos для более опытных пользователей.

To upgrade all of your system software as well as their dependencies to the latest version, use this command:
yum update

yum check-update

terminal without scrolling. rpm

centos mount virtualbox guest additions


Чтобы установить гостувую ОС пришлось следовать инструкциям https://www.tecmint.com/install-virtualbox-guest-additions-in-centos-rhel-fedora/