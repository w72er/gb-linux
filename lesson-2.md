План урока:
Знакомство с интерфейсом командной строки.
Навигация по файловой системе и основные операции с файлами и каталогами.
Знакомство с текстовыми редакторами.
Текстовый редактор vi/Vim.
Текстовый редактор nano.

## Знакомство с интерфейсом командной строки.

putty, powershell - windows, terminal - linux, iterm2 - mac os
terminal - это терминал подключения к удаленному сервису, консоль - средство для работы с системой. ??

`username@hostname:current_path($|#)` $-обычный пользователь, #-root

Мы можем зайти на сервер с помощью SSH-сервер, убедиться что он установлен:
`systemctl status sshd`

Подключиться мы должны к определенному хосту по IP-адресу. Выяснить IP-адрес можно зайдя на гостевую ОС ubuntu и введя команду `ip a`
```text
1: lo: <LOOPBACK,UP,LOWER_UP> mtu 65536 qdisc noqueue state UNKNOWN group default qlen 1000
    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00
    inet 127.0.0.1/8 scope host lo
       valid_lft forever preferred_lft forever
    inet6 ::1/128 scope host 
       valid_lft forever preferred_lft forever
2: enp0s3: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc fq_codel state UP group default qlen 1000
    link/ether 08:00:27:c0:8e:27 brd ff:ff:ff:ff:ff:ff
    inet 192.168.1.56/24 brd 192.168.1.255 scope global dynamic noprefixroute enp0s3
       valid_lft 25065sec preferred_lft 25065sec
    inet6 fe80::208c:6fd6:74d7:138b/64 scope link noprefixroute 
       valid_lft forever preferred_lft forever
```

Для современной windows подключение следующее:
cmd -> `ssh a@192.168.1.56` #12345678

Для старых операционных систем следует установить putty.

Траблшутинг:
запущен ли демон ssh
доступен ли IP-адрес
находится ли он в той же подсети

## Навигация по файловой системе и основные операции с файлами и каталогами.

При входе в систему мы попадаем в домашнюю папку пользователя. Файловые системы - вложенные структуры.
Для перемещения
* использование полного (то есть от корня)
* или относительного (то есть текущего каталога). * где? `.`, `..` специальные ссылки на текущую папку и на папку выше соответственно. Или `~` ссылка на рабочую директорию пользователя.

В виндовс есть разделы "C" / "D", в linux файловые же системы монтируются в разные папки корня. То есть в linux единая файловая система.

"~" - сокращение домашней директории пользователя.
`pwd` print working directory:
`/home/a`

`cd` change directory
* `cd /usr/local/bin` absolute
* `cd Загрузки` relative
* `cd ~` / `cd` - to home directory

`ls -l` list long, подробный список
`ls -a` показать скрытые файлы, то есть файлы, которые начинаются с точки.

Обычно применяется следующая подсветка, но такая подсветка не на всех терминалах:
* белым - обычные файлы
* синим - папки

Скрыты они не потому что их прячут, а потому что они вспомогательные (конфигурации, системные) для операционной системы.

Команды не подробные, а скорее справка:
* `ls --help` - отобразить подсказку
* `man list`
Для полной информации используйте статьи

Копирование
`cp from to`

Есть тонкость при копировании директории с ключом "-R" рекурсивного копирования.
`cp -r  lesson2/ lesson2_copy`

Перемещение:
`mv` move - при переносе меняется путь, поэтому не нужно `-r` для папок 

Лайфхак: если работаем с папкой, то ставим `/`, тогда видим с чем работаем.

Удобство и привычка.

Для ввода команд и просмотра структуры и для поиска файлов и папок есть множества команд.
Почему не использовать консольный файловый менеджер. Файловый менеджер удобнее чем консольные команды. Но мы можем использовать команды в скриптах, что бы выполять более сложные задачи.

`rm` remove. При удалении папка следует применить параметр `-r`. Важно удаленные файлы или папку не возможно восстановить из корзины, они удаляются на всегда.
`rm -r ../a/directory`

touch менять метку времени последнего изменения файла.

`cat` объединять содержимое нескольких файлов, побочный эффект, вывод содержимого файла на экран

просмотрщики файлов (plane text, не word)
`more` открывает файл сначала и переходить на страницу далее можно по пробелу
`less` то же самое, но можно ходить уже стрелочками, и выход `q`


`tail` - вывод 10 последних строк.
для того что бы видеть что пишется в логи /var/log/syslog в реальном времени, используйте `-f` follow.

## Знакомство с текстовыми редакторами.

libre office, раньше open office.

### Текстовый редактор vi/Vim.

vi/vim не возможно освоить интуитивно. У них есть 3 режима работы:
* командный режим переходить по файлу и выполнять удаление, вставку и другие команды
* редактирование (i - с текущего положения)
* действия на уровне файла - режим последней строки, команды которые относятся ко всему файлу. (:)
  * q - quit
  * w - write
  * q! - quit without saving changes
  * wq - write and exit
    
В большинстве случаев vim будет единственным редактором в системе.

### Текстовый редактор nano.

Просто текстовый редактор без команд.
`^` - ctrl

1 задание с помощью команд
2. скриншоты где пользуетесь редакторами, остальное команды
3. скрин входа в систему.

## ssh-copy-id for windows

```text
192.168.1.56
type $env:USERPROFILE\.ssh\id_rsa.pub | ssh a@192.168.1.56 "cat >> ~/.ssh/authorized_keys"
cat ~/.ssh/id_rsa.pub | ssh username@remote_host "mkdir -p ~/.ssh && cat >> ~/.ssh/authorized_keys"
type .ssh/id_rsa.pub | ssh a@192.168.1.56 "mkdir -p ~/.ssh && cat >> ~/.ssh/authorized_keys" # windows ok
```

```text
C:\Users\alexa\.ssh>type id_rsa.pub | ssh a@192.168.1.56 "mkdir -p ~/.ssh && cat >> ~/.ssh/authorized_keys"
a@192.168.1.56's password:

C:\Users\alexa\.ssh>ssh a@192.168.1.56
Welcome to Ubuntu 20.04.2 LTS (GNU/Linux 5.8.0-53-generic x86_64)

 * Documentation:  https://help.ubuntu.com
 * Management:     https://landscape.canonical.com
 * Support:        https://ubuntu.com/advantage



Your Hardware Enablement Stack (HWE) is supported until April 2025.
Last login: Wed Jun  2 21:12:13 2021 from 192.168.1.53
```
